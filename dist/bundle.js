!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);const n=document.querySelector(".time"),o=document.querySelector(".date"),a=(document.querySelector(".greeting"),document.querySelector(".greeting__name")),c=document.querySelector(".focus__name"),l=(document.querySelector(".focus"),document.querySelector(".quote-text")),u=document.querySelector(".quote-sign"),s=document.querySelector(".main"),i=document.querySelector(".main-weather__extended"),d=document.querySelector(".main-weather__short-info"),g=document.querySelectorAll(".main-weather__type"),m=document.querySelector(".main-weather__text"),y=document.querySelectorAll(".main-weather__temperature"),S=document.querySelector(".main-weather__wind-speed"),b=document.querySelector(".main-weather__humidity-value"),p=document.querySelector(".main-weather__location"),f=document.querySelector(".change-weather-btn"),h=document.querySelector(".quote-refresh-btn"),x=document.querySelector(".change-picture-btn"),w=document.querySelector(".main-change-content"),I=document.querySelector(".change-name-btn"),v=document.querySelector(".change-focus-btn"),T=document.querySelector(".open-extended-weather-btn"),q=()=>{const e=new Date(Date.now());function t(e){return 1===e.toString().length?"0"+e.toString():e}const r=`${t(e.getHours())} : ${t(e.getMinutes())} : ${t(e.getSeconds())}`,a=`${function(e){if(e instanceof Date)switch(e.getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";case 7:return;default:return null}}(e)} , ${e.getDate()} of ${function(e){if(e instanceof Date)switch(e.getMonth()){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return null}}(e)} , ${e.getFullYear()}`;n.innerHTML=r,o.innerHTML=a,setInterval(q,1e3)};const _=e=>{let t=Math.ceil(20*Math.random());s.style.background=`url("./../assets/images/${e}/${t.toString()}.jpg") 50% 50% no-repeat border-box`,s.style.backgroundSize="cover"},k=()=>{""===localStorage.getItem("userName")||null===localStorage.getItem("userName")?a.innerText="[Enter your name]":a.innerText=localStorage.getItem("userName")},E=()=>{""===localStorage.getItem("userFocus")||null===localStorage.getItem("userFocus")?c.innerText="[Enter your focus]":c.innerText=localStorage.getItem("userFocus")},L=e=>{""!==e.target.innerText&&localStorage.setItem("userName",e.target.innerText)},M=e=>{localStorage.setItem("userFocus",e.target.innerText)},C=async()=>{const e=await fetch("https://cors-anywhere.herokuapp.com/https://api.forismatic.com/api/1.0/?method=getQuote&format=json&lang=en"),t=await e.json();l.innerText=t.quoteText,u.innerText=t.quoteAuthor},$=e=>{localStorage.setItem("usersCity",e.target.innerText)},j=()=>{""===localStorage.getItem("usersCity")||null===localStorage.getItem("usersCity")?p.innerText="[Enter your city]":p.innerText=localStorage.getItem("usersCity")},A=async()=>{if(localStorage.getItem("usersCity")){const e=await(async(e,t)=>{const r=`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=${e}&units=metric`,n=await fetch(r);try{if(n.ok)return n.json()}catch(e){throw console.log(e),new Error(e)}})("99a4816af47b338490ced8ffe0a478da",localStorage.getItem("usersCity"));console.log(e),g.forEach(t=>{t.src=`http://openweathermap.org/img/wn/${e.weather[0].icon}.png`}),m.innerText=e.weather[0].description,y.forEach(t=>{t.innerHTML=`<span>${e.main.temp} &deg;C</span>`}),S.innerText=e.wind.speed,b.innerText=e.main.humidity}else m.style.display="none",y.style.display="none",S.style.display="none",b.style.display="none",p.innerText="[enter city]"},D=e=>{e.addEventListener("keydown",t=>{"Enter"===t.code&&e.blur()})};a.addEventListener("change",L),a.addEventListener("blur",e=>{L(e),k(),a.style.background="none",a.setAttribute("contenteditable","false")}),D(a),I.addEventListener("click",()=>{a.setAttribute("contenteditable","true"),a.style.background="rgba(255,255,255, .4)",a.focus()}),c.addEventListener("keypress",M),c.addEventListener("blur",e=>{M(e),E(),c.style.background="none",c.setAttribute("contenteditable","false")}),D(c),v.addEventListener("click",()=>{c.setAttribute("contenteditable","true"),c.style.background="rgba(255,255,255, .4)",c.focus()}),p.addEventListener("change",$),p.addEventListener("blur",e=>{$(e),j(),A(),p.style.background="none",p.setAttribute("contenteditable","false")}),D(p),f.addEventListener("click",()=>{p.setAttribute("contenteditable","true"),p.style.background="rgba(255,255,255, .4)",p.focus()}),T.addEventListener("click",()=>{"hidden"===i.style.visibility?(i.style.visibility="visible",d.style.display="none"):(i.style.visibility="hidden",d.style.display="flex")}),document.addEventListener("DOMContentLoaded",C,j),h.addEventListener("click",C),x.addEventListener("click",()=>{_(localStorage.getItem("bgImgType")),x.disabled="disabled",w.classList.add("no-hover"),setTimeout(()=>{x.disabled="",w.classList.remove("no-hover")},2e3)}),q(),function(){const e=new Date(Date.now()).getHours();e>=5&&e<10?(localStorage.setItem("bgImgType","morning"),localStorage.setItem("fontColor","white"),localStorage.setItem("textShadow","3px 3px 2px black")):e>=10&&e<17?(localStorage.setItem("bgImgType","day"),localStorage.setItem("fontColor","white"),localStorage.setItem("textShadow","3px 3px 2px black")):e>=18&&e<9?(localStorage.setItem("bgImgType","evening"),localStorage.setItem("fontColor","white"),localStorage.setItem("textShadow","2px 2px black")):(localStorage.setItem("bgImgType","night"),localStorage.setItem("fontColor","white"),localStorage.setItem("textShadow","2px 2px black")),_(localStorage.getItem("bgImgType")),s.style.color=localStorage.getItem("fontColor"),s.style.textShadow=localStorage.getItem("textShadow")}(),k(),E(),A(),j()}]);